@use "../variables" as *;
@use "../base.variables" as *;
@use "../core/colors.core" as *;
@use "../core/types.core" as *;
@use "../core/borders.core" as *;
@use "../core/sizes.core" as *;

@if $enable-base {
  /*
   * ================ Base Code Styles ================
   */

  /*
   * Common code element styling
   * Consistent appearance across all code elements
   */
  code,
  pre,
  kbd {
    font-family: $base-font-family-mono;
    font-weight: $base-font-weight-normal; // Normal weight for code
    line-height: initial;
    color: $base-color-text;
    background-color: $base-code-background; // Use muted background
    border-radius: $base-border-radius;
  }

  /*
   * ================ Inline Code ================
   */

  code,
  kbd {
    display: inline-block;
    padding: 0.1rem 0.3rem;
    white-space: nowrap;
  }

  /*
   * ================ Block Code ================
   */

  pre {
    display: block;
    padding: $base-spacing-sm $base-spacing-md;
    margin-bottom: $base-spacing-md;
    overflow-x: auto;

    /*
     * Typography optimizations for code reading
     */
    text-align: left;
    word-spacing: normal;
    hyphens: none;
    word-break: normal;
    word-wrap: normal;
    tab-size: 4;
    white-space: pre;

    /*
     * Visual styling
     * Professional code block appearance
     */
    border-radius: $base-border-radius;

    /*
     * Code within pre elements
     * Remove redundant styling for nested code
     */
    > code {
      display: block;
      padding: 0;
      background: none;
    }
  }

  /*
   * ================ Keyboard Input Elements ================
   */

  kbd {
    vertical-align: baseline;
    color: white;
    background-color: $base-color-emphasis;

    /*
     * Enhanced keyboard key appearance
     * Resembles physical keyboard keys
     */
    border: 1px solid rgba(0, 0, 0, 0.2);
    border-bottom: 2px solid rgba(0, 0, 0, 0.3);
    box-shadow: 0 1px 0 rgba(255, 255, 255, 0.2) inset;

    /*
     * Typography adjustments for keyboard keys
     */
    font-family: $base-font-family-mono;
    font-size: 0.8em;
    font-weight: 600;

    /*
     * Nested kbd elements
     * For key combinations like Ctrl+C
     */
    kbd {
      padding: 0;
      font-size: 0.9em;
      font-weight: inherit;
      border: 0;
      box-shadow: none;
    }
  }

  /*
   * ================ Sample Output Elements ================
   * For representing sample program output
   */
  samp {
    font-family: $base-font-family-mono;
    font-size: $base-font-size-sm;
    color: $base-color-text;
    background-color: transparent;
  }

  /*
   * ================ Variable Elements ================
   * For mathematical or programming variables
   */
  var {
    font-family: $base-font-family-mono;
    font-style: italic;
    font-weight: 500;
    color: $base-color-text;
  }
}
