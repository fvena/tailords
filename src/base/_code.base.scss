@use "../variables" as *;
@use "../core/colors.core" as *;
@use "../core/types.core" as *;
@use "../core/borders.core" as *;
@use "../core/sizes.core" as *;

@if $enable-base {
  /*
   * ================ Base Code Styles ================
   */

  /*
   * Common code element styling
   * Consistent appearance across all code elements
   */
  code,
  pre,
  kbd {
    font-weight: font(medium);
    line-height: initial;
    color: color($font-code-color);
    background-color: color($code-background-color);
    border-radius: radius(small);
  }

  /*
   * ================ Inline Code ================
   */

  code,
  kbd {
    display: inline-block;
    padding: 0.1rem 0.3rem;
    white-space: nowrap;
  }

  /*
   * ================ Block Code ================
   */

  pre {
    display: block;
    padding: half() simple();
    margin-bottom: simple();
    overflow-x: auto;

    /*
     * Typography optimizations for code reading
     */
    text-align: left;
    word-spacing: normal;
    hyphens: none;
    word-break: normal;
    word-wrap: normal;
    tab-size: 4;
    white-space: pre;

    /*
     * Visual styling
     * Professional code block appearance
     */
    border-radius: radius(medium);

    /*
     * Code within pre elements
     * Remove redundant styling for nested code
     */
    > code {
      display: block;
      padding: 0;
      background: none;
    }
  }

  /*
   * ================ Keyboard Input Elements ================
   */

  kbd {
    vertical-align: baseline;
    color: color(white);
    background-color: color(gray1);

    /*
     * Enhanced keyboard key appearance
     * Resembles physical keyboard keys
     */
    border: 1px solid rgba(0, 0, 0, 0.2);
    border-bottom: 2px solid rgba(0, 0, 0, 0.3);
    box-shadow: 0 1px 0 rgba(255, 255, 255, 0.2) inset;

    /*
     * Typography adjustments for keyboard keys
     */
    font-family: monospace, monospace;
    font-size: 0.8em;
    font-weight: 600; // Semibold for key emphasis

    /*
     * Nested kbd elements
     * For key combinations like Ctrl+C
     */
    kbd {
      padding: 0;
      font-size: 0.9em;
      font-weight: inherit;
      border: 0;
      box-shadow: none;
    }
  }

  /*
   * ================ Sample Output Elements ================
   * For representing sample program output
   */
  samp {
    font-family: monospace, monospace;
    font-size: 0.851rem; // Small1 scale position
    color: $code-text-color;
    background-color: transparent;
  }

  /*
   * ================ Variable Elements ================
   * For mathematical or programming variables
   */
  var {
    font-family: monospace, monospace;
    font-style: italic;
    font-weight: 500;
    color: $code-text-color;
  }
}
